<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ìŠ¤ë§ˆíŠ¸ í˜„ì¥ê´€ë¦¬ ë‹¤ìš´ë¡œë“œ</title>
    <link rel="manifest" href="manifest.json">
    <style>
        body {
            background-color: #1a1a1a;
            color: white;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
            text-align: center;
        }
        .icon-box {
            width: 120px;
            height: 120px;
            background-color: #fff;
            border-radius: 25px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 50px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.5);
        }
        h1 { margin: 0 0 10px 0; font-size: 24px; }
        p { color: #aaa; margin: 0 0 30px 0; font-size: 14px; }
        
        /* ë‹¤ìš´ë¡œë“œ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .install-btn {
            background-color: #007AFF;
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 18px;
            font-weight: bold;
            border-radius: 30px;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(0, 122, 255, 0.3);
            transition: transform 0.1s;
        }
        .install-btn:active { transform: scale(0.95); }

        /* ì•„ì´í°ìš© ì•ˆë‚´ í™”ì‚´í‘œ (í‰ì†Œì—” ìˆ¨ê¹€) */
        .ios-guide {
            display: none; 
            margin-top: 20px;
            padding: 15px;
            background: #333;
            border-radius: 10px;
            font-size: 14px;
        }
    </style>
</head>
<body>

    <div class="icon-box">ğŸ—ï¸</div>

    <h1>ìŠ¤ë§ˆíŠ¸ í˜„ì¥ê´€ë¦¬ V7</h1>
    <p>í˜„ì¥ ê´€ë¦¬ì˜ ëª¨ë“  ê²ƒ, í„°ì¹˜ í•œ ë²ˆìœ¼ë¡œ ì‹œì‘í•˜ì„¸ìš”.</p>

    <button class="install-btn" id="installBtn">ì•± ë‹¤ìš´ë¡œë“œ</button>

    <div class="ios-guide" id="iosGuide">
        ğŸ‘‡ ì•„ë˜ <strong>ê³µìœ  ë²„íŠ¼</strong>ì„ ëˆ„ë¥´ê³ <br>
        <strong>'í™ˆ í™”ë©´ì— ì¶”ê°€'</strong>ë¥¼ ì„ íƒí•˜ì„¸ìš”.
    </div>

    <script>
        let deferredPrompt;
        const installBtn = document.getElementById('installBtn');
        const iosGuide = document.getElementById('iosGuide');

        // 1. ì•ˆë“œë¡œì´ë“œ: ì„¤ì¹˜ ê°€ëŠ¥í•œì§€ ê°ì§€
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            installBtn.style.display = 'block'; // ë²„íŠ¼ ë³´ì´ê¸°
        });

        // 2. ë²„íŠ¼ í´ë¦­ ì‹œ ì„¤ì¹˜ ì°½ ë„ìš°ê¸°
        installBtn.addEventListener('click', async () => {
            if (deferredPrompt) {
                deferredPrompt.prompt(); // ì§„ì§œ ì„¤ì¹˜ ì°½ ë„ì›€
                const { outcome } = await deferredPrompt.userChoice;
                deferredPrompt = null;
            } else {
                // ì´ë¯¸ ì„¤ì¹˜í–ˆê±°ë‚˜ ì•„ì´í°ì¸ ê²½ìš°
                alert('ì´ë¯¸ ì„¤ì¹˜ë˜ì—ˆê±°ë‚˜, ë¸Œë¼ìš°ì € ë©”ë‰´ì—ì„œ [í™ˆ í™”ë©´ì— ì¶”ê°€]ë¥¼ ëˆŒëŸ¬ì£¼ì„¸ìš”.');
            }
        });

        // 3. ì•„ì´í°ì¸ì§€ í™•ì¸í•˜ê³  ì•ˆë‚´ ë„ìš°ê¸°
        const isIos = /iPhone|iPad|iPod/.test(navigator.userAgent);
        if (isIos) {
            installBtn.style.display = 'none'; // ì•„ì´í°ì€ ë²„íŠ¼ìœ¼ë¡œ ì„¤ì¹˜ ë¶ˆê°€
            iosGuide.style.display = 'block';  // ëŒ€ì‹  ì•ˆë‚´ë¬¸êµ¬ ë³´ì—¬ì¤Œ
        }
        
        // 4. ì„œë¹„ìŠ¤ ì›Œì»¤ ë“±ë¡ (ì„¤ì¹˜ í•„ìˆ˜ì¡°ê±´)
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('sw.js');
        }
    </script>
</body>
</html>
